---
title: Introducing the bike crash dataset
author: Sighvatur Davidsson
date: '2022-01-24'
slug: []
categories: []
tags:
- introducing
---

<script src="{{< blogdown/postref >}}index.en_files/header-attrs/header-attrs.js"></script>


<p>I don’t want to bore you with the initial data cleaning, but rather go straight to introducing this dataset I will be working with in my first few blog posts.</p>
<p><strong>Short introduction to dataset</strong></p>
<p>This dataset contains information on crashes between cyclists and motorised vehicles (cars, motorcycles, etc.) taking place in North Carolina in the period 2007 - 2019. The dataset has been made available by the local authorities (North Carolina Division of Motor Vehicles). The information is sourced from police reports, and has manually been put in tabular form by the University of North Carolina. Precision of registrations is therefore assumed to be high.</p>
<p>There is however a problem with documentation. We don’t have explanations for the variables’ meaning but have to rely on their names (which are often abbrevations) and the content of the registrations.</p>
<p>Also the dataset is rather text-heavy, and therefore a corresponding lack of numeric values. This might pose a problem to certain machine learning methods, but we will have to adapt our analysis to methods fit for this kind of dataset.</p>
<p><strong>Why was this dataset chosen?</strong></p>
<p>First of all this dataset was used in my final thesis in my Data Analytics education at Dania Academy. An important criterion for choosing a dataset to work with was to avoid being acused of plagiarizing. The dataset was posted on Kaggle, but no machine learning solutions had been posted.</p>
<p><strong>Looking at the dataset</strong></p>
<p>Let’s have a quick look at the dataset</p>
<pre class="r"><code>glimpse(bike_crash)</code></pre>
<pre><code>## Rows: 12,173
## Columns: 55
## $ x            &lt;dbl&gt; -78.88390, -78.78280, -80.69782, -80.47932, -78.90445, -8…
## $ y            &lt;dbl&gt; 36.03949, 35.75112, 35.08473, 35.68440, 34.99943, 35.6666…
## $ objectid_1   &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17…
## $ ambulance_r  &lt;fct&gt; Yes, Yes, Yes, Yes, Yes, Yes, No, Yes, Yes, No, Yes, Yes,…
## $ bike_age     &lt;dbl&gt; 11, 20, 37, 30, 45, 58, 51, 13, 18, 39, 19, 35, 40, 31, 1…
## $ bike_age_grp &lt;fct&gt; 11-15, 20-24, 30-39, 30-39, 40-49, 50-59, 50-59, 11-15, 1…
## $ bike_alc_drg &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No…
## $ bike_alc_flg &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;No&quot;, &quot;N…
## $ bike_dir     &lt;chr&gt; &quot;With Traffic&quot;, &quot;Facing Traffic&quot;, NA, &quot;With Traffic&quot;, &quot;Wi…
## $ bike_injury  &lt;chr&gt; &quot;Suspected Minor Injury&quot;, &quot;Possible Injury&quot;, &quot;Suspected M…
## $ bike_pos     &lt;chr&gt; &quot;Sidewalk / Crosswalk / Driveway Crossing&quot;, &quot;Sidewalk / C…
## $ bike_race    &lt;chr&gt; &quot;Black&quot;, &quot;Hispanic&quot;, &quot;Black&quot;, &quot;White&quot;, &quot;Black&quot;, &quot;White&quot;, …
## $ bike_sex     &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;…
## $ city         &lt;chr&gt; &quot;Durham&quot;, &quot;Cary&quot;, &quot;Stallings&quot;, &quot;Salisbury&quot;, &quot;Fayetteville…
## $ county       &lt;chr&gt; &quot;Durham&quot;, &quot;Wake&quot;, &quot;Union&quot;, &quot;Rowan&quot;, &quot;Cumberland&quot;, &quot;Rowan&quot;…
## $ crash_alcoh  &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;No&quot;, &quot;N…
## $ crash_day    &lt;fct&gt; Tuesday, Friday, Monday, Friday, Friday, Wednesday, Satur…
## $ crash_grp    &lt;chr&gt; &quot;Parallel Paths - Other Circumstances&quot;, &quot;Motorist Failed …
## $ crash_hour   &lt;fct&gt; 16, 9, 17, 17, 12, 9, 19, 15, 8, 9, 21, 11, 20, 15, 14, 8…
## $ crash_id     &lt;dbl&gt; 101878313, 101885911, 101886055, 101890155, 101899756, 10…
## $ crash_loc    &lt;chr&gt; &quot;Non-Intersection&quot;, &quot;Intersection&quot;, &quot;Non-Roadway&quot;, &quot;Inter…
## $ crash_month  &lt;fct&gt; January, January, January, January, January, January, Jan…
## $ crash_sevr   &lt;fct&gt; Suspected Minor Injury, Possible Injury, Suspected Minor …
## $ crash_type   &lt;chr&gt; &quot;Bicyclist Ride Out - Parallel Path&quot;, &quot;Motorist Drive Out…
## $ crash_year   &lt;fct&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 200…
## $ developmen   &lt;chr&gt; &quot;Residential&quot;, &quot;Residential&quot;, &quot;Commercial&quot;, &quot;Commercial&quot;,…
## $ drvr_age     &lt;dbl&gt; 35, 64, 39, NA, 51, NA, 61, 18, NA, NA, 24, 27, 21, 17, 6…
## $ drvr_age_grp &lt;fct&gt; 30-39, 60-69, 30-39, NA, 50-59, NA, 60-69, 0-19, NA, 70+,…
## $ drvr_alc_drg &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No…
## $ drvr_alc_flg &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, NA, &quot;No&quot;,…
## $ drvr_injury  &lt;chr&gt; &quot;No Injury&quot;, &quot;No Injury&quot;, &quot;No Injury&quot;, NA, &quot;No Injury&quot;, N…
## $ drvr_race    &lt;chr&gt; &quot;White&quot;, &quot;White&quot;, &quot;White&quot;, NA, &quot;Black&quot;, NA, &quot;White&quot;, &quot;Bla…
## $ drvr_sex     &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Female&quot;, NA, &quot;Female&quot;, NA, &quot;Male&quot;, &quot;Fema…
## $ drvr_veh_typ &lt;chr&gt; &quot;Passenger Car&quot;, &quot;Passenger Car&quot;, &quot;Passenger Car&quot;, &quot;Sport…
## $ hit_run      &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Yes&quot;, …
## $ latitude     &lt;dbl&gt; 36.03949, 35.75112, 35.08473, 35.68440, 34.99943, 35.6666…
## $ light_cond   &lt;fct&gt; Daylight, Daylight, Dusk, Daylight, Daylight, Daylight, D…
## $ locality     &lt;fct&gt; Urban (&gt;70% Developed), Urban (&gt;70% Developed), Urban (&gt;7…
## $ longitude    &lt;dbl&gt; -78.88390, -78.78280, -80.69782, -80.47932, -78.90445, -8…
## $ num_lanes    &lt;dbl&gt; 1, 3, 2, 2, 2, 2, 2, 2, 5, 2, 4, 6, 4, 2, 2, 5, 2, 2, 2, …
## $ num_units    &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …
## $ rd_bent      &lt;chr&gt; &quot;Straight&quot;, &quot;Straight&quot;, &quot;Straight&quot;, &quot;Straight&quot;, &quot;Straight…
## $ rd_hill      &lt;chr&gt; &quot;No&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, …
## $ rd_class     &lt;chr&gt; &quot;Local Street&quot;, &quot;Local Street&quot;, &quot;Public Vehicular Area&quot;, …
## $ rd_conditio  &lt;chr&gt; &quot;Clean&quot;, &quot;Clean&quot;, &quot;Clean&quot;, &quot;Clean&quot;, &quot;Clean&quot;, &quot;Clean&quot;, &quot;Cl…
## $ rd_config    &lt;chr&gt; &quot;Two-Way, Divided, Unprotected Median&quot;, &quot;Two-Way, Divided…
## $ rd_defects   &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, NA,…
## $ rd_feature   &lt;chr&gt; &quot;No Special Feature&quot;, &quot;Four-Way Intersection&quot;, &quot;No Specia…
## $ rd_surface   &lt;chr&gt; &quot;Smooth Asphalt&quot;, &quot;Smooth Asphalt&quot;, &quot;Smooth Asphalt&quot;, &quot;Sm…
## $ region       &lt;chr&gt; &quot;Piedmont&quot;, &quot;Piedmont&quot;, &quot;Piedmont&quot;, &quot;Piedmont&quot;, &quot;Coastal&quot;…
## $ rural_urban  &lt;chr&gt; &quot;Urban&quot;, &quot;Urban&quot;, &quot;Urban&quot;, &quot;Urban&quot;, &quot;Urban&quot;, &quot;Urban&quot;, &quot;Ru…
## $ speed_limit  &lt;fct&gt; 30 - 35  MPH, 30 - 35  MPH, 20 - 25  MPH, 30 - 35  MPH, 3…
## $ traff_cntrl  &lt;chr&gt; &quot;No Control Present&quot;, &quot;Stop And Go Signal&quot;, &quot;No Control P…
## $ weather      &lt;chr&gt; &quot;Clear&quot;, &quot;Clear&quot;, &quot;Cloudy&quot;, &quot;Cloudy&quot;, &quot;Clear&quot;, &quot;Clear&quot;, &quot;…
## $ workzone     &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No…</code></pre>
<p>If we think of the coordinate variable (representing crash location) as one we have 52 variables.
Most of the variables are of the character-type and unfortunately few are of the numeric type. A regression-based prediciton model will therefore most likely not be fit for this dataset.</p>
<p>Here’s an example of how text heavy some of the variables are:</p>
<pre class="r"><code>bike_crash %&gt;% count(crash_type, sort = T) </code></pre>
<pre><code>## # A tibble: 65 × 2
##    crash_type                                                n
##    &lt;chr&gt;                                                 &lt;int&gt;
##  1 &lt;NA&gt;                                                   2580
##  2 Motorist Drive Out - Sign-Controlled Intersection      1078
##  3 Motorist Left Turn - Opposite Direction                 911
##  4 Motorist Drive Out - Commercial Driveway / Alley        742
##  5 Bicyclist Ride Through - Sign-Controlled Intersection   580
##  6 Non-Roadway                                             538
##  7 Motorist Right Turn - Same Direction                    532
##  8 Bicyclist Left Turn - Same Direction                    451
##  9 Motorist Overtaking - Undetected Bicyclist              439
## 10 Bicyclist Ride Through - Signalized Intersection        404
## # … with 55 more rows</code></pre>
<p>Not only is the length of the text, but also the sheer number of categories (65!). This variable will therefore problably be used in my modelling (unless we look specifically at a certain situation). But take a look at this one:</p>
<pre class="r"><code>bike_crash %&gt;% count(drvr_veh_typ, sort = T) %&gt;% print(n = 100)</code></pre>
<pre><code>## # A tibble: 25 × 2
##    drvr_veh_typ                             n
##    &lt;chr&gt;                                &lt;int&gt;
##  1 Passenger Car                         6363
##  2 Sport Utility                         2086
##  3 Pickup                                1554
##  4 &lt;NA&gt;                                  1000
##  5 Van                                    574
##  6 Light Truck (Mini-Van, Panel)          169
##  7 Single Unit Truck (2-Axle, 6-Tire)      83
##  8 Motorcycle                              61
##  9 Police                                  59
## 10 Commercial Bus                          29
## 11 Tractor/Semi-Trailer                    29
## 12 Pedalcycle                              28
## 13 Truck/Trailer                           27
## 14 Single Unit Truck (3 Or More Axles)     23
## 15 School Bus                              22
## 16 Taxicab                                 19
## 17 Other Bus                               18
## 18 Moped                                    9
## 19 Pedestrian                               7
## 20 Motor Home/Recreational Vehicle          4
## 21 EMS Vehicle, Ambulance, Rescue Squad     3
## 22 Activity Bus                             2
## 23 Truck/Tractor                            2
## 24 All Terrain Vehicle (ATV)                1
## 25 Firetruck                                1</code></pre>
<p>We are a bit luckier this time. We have 25 categories but for 19 of them we have less than 100 registrations. Are we to gather these in an other category? Maybe. But for now we’ll leave them as they are.</p>
